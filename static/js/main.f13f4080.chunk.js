(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(28),l=a.n(c),o=(a(102),a(103),a(4)),s=a.n(o),u=a(8),i=a(7),m=(a(105),a(147)),p=a(136),d=a(137),f=a(95),b=a(90),E=a(96),v=a(135),h=a(9),g=a(79),w=a.n(g),k=a(16),y=n.a.createContext(),x=(a(106),a(12)),j=a.n(x),O={addToCart:function(){var e=Object(u.a)(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/users/addtocart"),{product:{productId:t,quantity:a}},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return r=e.sent,e.abrupt("return",{response:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),removeFromCart:function(){var e=Object(u.a)(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/users/removefromcart"),{product:{productId:t,quantity:a}},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return r=e.sent,e.abrupt("return",{response:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),getCart:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/users/cart"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getProduct:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/products/").concat(t),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),createOrder:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/orders/create"),{address:t},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getOrders:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/orders/userorders"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()};function C(e){var t=e.p,a=Object(r.useContext)(y);return n.a.createElement("div",null,n.a.createElement("div",{className:"text-white text-center"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("img",{alt:"".concat(t.product.title),src:t.product.img,style:{width:200},className:""})),n.a.createElement("div",{className:""},n.a.createElement("p",null,t.product.title," ",!e.editable&&"\xd7 ".concat(t.quantity)),n.a.createElement("div",{className:"text-center"},e.editable&&n.a.createElement("div",{className:"quanity-group mb-3"},n.a.createElement(v.a,{variant:"secondary",className:"quan-buttons m-2",disabled:t.quantity<=1,onClick:Object(u.a)(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.removeFromCart(t.productId,1);case 2:return e.next=4,O.getCart();case 4:r=e.sent,a.setCart(r.response.data);case 6:case"end":return e.stop()}},e)}))},n.a.createElement(k.c,null)),t.quantity,n.a.createElement(v.a,{className:"quan-buttons m-2",onClick:Object(u.a)(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.addToCart(t.productId,1);case 2:return e.next=4,O.getCart();case 4:r=e.sent,a.setCart(r.response.data);case 6:case"end":return e.stop()}},e)}))},n.a.createElement(k.d,null)))),n.a.createElement("p",null,function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(t.quantity*t.product.price)),e.editable&&n.a.createElement(v.a,{variant:"danger",size:"sm",onClick:Object(u.a)(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.removeFromCart(t.productId,t.quantity);case 2:return e.next=4,O.getCart();case 4:r=e.sent,a.setCart(r.response.data);case 6:case"end":return e.stop()}},e)}))},"Remove"))),n.a.createElement("hr",{className:"solid text-white"}))}function N(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),g=o[0],x=o[1],j=Object(h.f)();return n.a.createElement(y.Consumer,null,function(e){var t=e.profile,r=e.cart,l=e.logOut;return n.a.createElement(m.a,{bg:"dark",variant:"dark",expand:!1},n.a.createElement(p.a,{fluid:!0},n.a.createElement(m.a.Brand,null,n.a.createElement("a",{href:"/"},n.a.createElement("img",{alt:"Dragazon Logo",src:w.a,style:{width:140,marginTop:0}}))),n.a.createElement("div",{className:"row jusitfy-content-between align-items-center",style:{marginRight:10}},null!==t&&n.a.createElement(m.a.Toggle,{"aria-controls":"cartOffCanvas",style:{marginRight:10},className:"text-white col-auto",onClick:function(){return x(!0)}},n.a.createElement("div",{className:"row jusitfy-content-between align-items-center "},n.a.createElement(k.e,{className:"col-auto"}),n.a.createElement(d.a,{pill:!0,bg:"danger",className:"col-auto",style:{fontSize:11}},function(e){return void 0===e.products||e.products.length<1?0:e.products.map(function(e){return e.quantity}).reduce(function(e,t){return e+t}).toString()}(r)))),n.a.createElement(m.a.Toggle,{className:"text-white col-auto","aria-controls":"offcanvasNavbar",onClick:function(){return c(!0)}},n.a.createElement(k.b,null))),n.a.createElement(m.a.Offcanvas,{show:a,onHide:function(){return c(!1)},id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end",className:"bg-dark",bg:"dark",variant:"dark"},n.a.createElement(f.a.Header,null,n.a.createElement(f.a.Title,{id:"offcanvasNavbarLabel"},n.a.createElement("a",{href:"/"},n.a.createElement("img",{src:w.a,alt:"Dragazon Logo",style:{width:140,marginTop:0}}))),n.a.createElement(b.a,{variant:"white",onClick:function(){return c(!1)}})),n.a.createElement(f.a.Body,null,n.a.createElement(E.a,{className:"justify-content-end flex-grow-1 pe-3"},n.a.createElement(E.a.Link,{href:"/",className:"link"},"Home"),null!==t&&n.a.createElement(E.a.Link,{href:"/profile",className:"link"},"Profile"),null!==t&&n.a.createElement(E.a.Link,{href:"/orders",className:"link"},"Orders"),null!==t&&t.isAdmin&&n.a.createElement(E.a.Link,{href:"/admindashboard",className:"link"},"Admin Dashboard"),null===t?n.a.createElement(E.a.Link,{href:"/login",className:"link"},"Login"):n.a.createElement(E.a.Link,{className:"link",onClick:Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c(!1),l(),j("/login");case 3:case"end":return e.stop()}},e)}))},"Logout")))),n.a.createElement(m.a.Offcanvas,{show:g,onHide:function(){return x(!1)},id:"cartOffCanvas","aria-labelledby":"offcanvasCartLabel",placement:"end",className:"bg-dark",bg:"dark",variant:"dark"},n.a.createElement(f.a.Header,null,n.a.createElement(f.a.Title,{id:"offcanvasCartLabel"},n.a.createElement("h1",{className:"text-white",style:{marginTop:0}},"Cart")),n.a.createElement(b.a,{variant:"white",onClick:function(){return x(!1)}})),n.a.createElement(f.a.Body,null,(void 0===r.products||r.products.length<1)&&n.a.createElement("div",{className:"text-center text-white"},n.a.createElement("h1",null,"Your cart is empty."),n.a.createElement("br",null),n.a.createElement("h4",null,"Add items and they will show up here."),n.a.createElement("br",null)),r.products&&r.products.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(C,{p:e,editable:!0}))}),r.products&&r.products.length>0&&n.a.createElement("div",{className:"text-center"},n.a.createElement("h3",{className:"text-white"},"Total: ",function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(r.totalPrice)),n.a.createElement(v.a,{variant:"danger",type:"button",style:{paddingRight:50,paddingLeft:50,borderRadius:"1% 25% / 80% ",color:"ivory",fontWeight:"700"},disabled:0===r.products,onClick:function(){j("/checkout"),x(!1)}},"Checkout"))))))})}var S=a(138),L=a(146),U=a(139),I=a(148),D={getAllUsers:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/users"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),makeUserAdmin:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/users/makeadmin/").concat(t),{},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat("https://dragazon.herokuapp.com","/users/").concat(t),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getAllProducts:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/products"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),createProduct:function(){var e=Object(u.a)(s.a.mark(function e(t,a,r,n,c,l){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/products"),{title:t,desc:a,img:r,categories:n,price:c,inStock:l},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return o=e.sent,e.abrupt("return",{response:o});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a,r,n,c,l){return e.apply(this,arguments)}}(),updateProduct:function(){var e=Object(u.a)(s.a.mark(function e(t,a,r,n,c,l,o){var u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put("".concat("https://dragazon.herokuapp.com","/products/").concat(t),{title:a,desc:r,img:n,categories:c,price:l,inStock:o},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return u=e.sent,e.abrupt("return",{response:u});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a,r,n,c,l,o){return e.apply(this,arguments)}}(),deleteProduct:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat("https://dragazon.herokuapp.com","/products/").concat(t),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getAllOrders:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/orders"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getOrderDetails:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/orders/").concat(t),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),updateOrder:function(){var e=Object(u.a)(s.a.mark(function e(t,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),deleteOrder:function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat("https://dragazon.herokuapp.com","/orders/").concat(t),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return a=e.sent,e.abrupt("return",{response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},P=a(66),R=a.n(P),q=a(92),G=a.n(q);a(130);function z(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),o=Object(i.a)(l,2),m=o[0],d=o[1],f=Object(h.f)(),b=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,D.getAllProducts();case 3:(t=e.sent).error?d("Could not load products"):(c(!1),d(t.response.data));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){b()},[]);return n.a.createElement(p.a,{className:"text-center mb-5"},n.a.createElement("img",{className:"d-block w-100",src:R.a,style:{objectFit:"contain"}}),a&&n.a.createElement("div",{className:"text-center mx-auto w-100"},n.a.createElement(S.a,{animation:"border"})),!a&&n.a.createElement(L.a,{fade:!0,className:"mb-5"},m.slice(0,3).map(function(e,t){return n.a.createElement(L.a.Item,{key:t,onClick:function(){f("/product",{state:{product:e}})}},n.a.createElement("img",{className:"d-block w-100",src:e.img,alt:e.title,style:{height:400,objectFit:"cover"}}),n.a.createElement(L.a.Caption,{style:{backgroundColor:"rgba(0,0,0,0.5)",borderRadius:10}},n.a.createElement("h3",null,e.title),n.a.createElement("p",null,e.desc)))})),n.a.createElement("hr",{className:"solid text-white"}),n.a.createElement("img",{className:"d-block w-100 m-3",src:G.a,style:{objectFit:"contain",width:".5em",height:"15em"}}),n.a.createElement("hr",{className:"solid text-white"}),n.a.createElement("br",null),n.a.createElement(U.a,{className:"justify-content-center mx-auto gy-4 gx-4"},!a&&m.slice(3).map(function(e,t){return n.a.createElement(I.a,{style:{width:"18rem",margin:10},key:t,onClick:function(){f("/product",{state:{product:e}})},className:"bg-dark"},n.a.createElement(I.a.Img,{variant:"top",src:e.img,className:"w-100",style:{contain:""}}),n.a.createElement(I.a.Body,{className:"text-white"},n.a.createElement(I.a.Title,null,e.title),n.a.createElement(I.a.Text,null,e.desc),n.a.createElement(I.a.Text,null,function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(e.price))))})))}var A=a(143),H=a(149),T=a(93),F={signUp:function(){var e=Object(u.a)(s.a.mark(function e(t,a,r,n){var c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Name",t),e.prev=1,e.next=4,j.a.post("".concat("https://dragazon.herokuapp.com","/users/signup"),{name:t,email:a,username:r,password:n},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 4:return c=e.sent,e.abrupt("return",{response:c});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a,r,n){return e.apply(this,arguments)}}(),login:function(){var e=Object(u.a)(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("https://dragazon.herokuapp.com","/users/login"),{username:t,password:a},{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return r=e.sent,e.abrupt("return",{response:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),logout:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/users/logout"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getLoggedInUser:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://dragazon.herokuapp.com","/users/profile"),{headers:{"content-type":"application/json"},withCredentials:!0,credentials:"same-origin"});case 3:return t=e.sent,e.abrupt("return",{response:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response?e.t0.response.data:"network error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()};a(131);function _(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useRef)(null),o=Object(r.useRef)(null),m=Object(r.useRef)(null),d=Object(r.useRef)(null),f=Object(r.useState)(null),b=Object(i.a)(f,2),E=b[0],g=b[1],w=Object(h.f)(),k=function(){var e=Object(u.a)(s.a.mark(function e(t){var r,n,c,u,i,p,f,b;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=10;break}return r=m.current.value,n=d.current.value,e.next=6,F.login(r,n);case 6:(c=e.sent).response?"Login successful"===c.response.data&&(w("/profile"),window.location.reload(!0)):g(c.error),e.next=18;break;case 10:return u=l.current.value,i=o.current.value,p=m.current.value,f=d.current.value,e.next=16,F.signUp(u,i,p,f);case 16:(b=e.sent).response?(console.log(b.response.data),"User created"===b.response.data.message&&(w("/profile"),window.location.reload(!0))):g(b.error);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){null!==l.current&&(l.current.value=""),null!==o.current&&(o.current.value=""),null!==m.current&&(m.current.value=""),null!==d.current&&(d.current.value=""),g(null)};return n.a.createElement(p.a,{className:"col-md-10 mx-auto col-lg-10 col-xl-6",style:{color:"ivory"}},n.a.createElement("img",{className:"d-block w-100",src:R.a,style:{objectFit:"contain"}}),n.a.createElement(A.a,{className:"col-md-6 mb-5 mx-auto mt-3",onSubmit:function(e){k(e)}},n.a.createElement("h1",{className:"text-center",style:{color:"rgb(170,1,20)",fontFamily:"cursive"}},a?"Login":"Sign Up"),!a&&n.a.createElement(A.a.Group,{className:"mb-3",controlId:"name"},n.a.createElement(A.a.Label,null,"Name"),n.a.createElement(A.a.Control,{ref:l,type:"text",placeholder:"Name",required:!0})),!a&&n.a.createElement(A.a.Group,{className:"mb-3",controlId:"email"},n.a.createElement(A.a.Label,null,"Email"),n.a.createElement(A.a.Control,{ref:o,type:"email",placeholder:"Email",required:!0,isInvalid:E&&E.includes("The email")}),n.a.createElement(A.a.Control.Feedback,{type:"invalid"},E)),n.a.createElement(A.a.Group,{className:"mb-3",controlId:"username"},n.a.createElement(A.a.Label,null,"Username"),n.a.createElement(H.a,{className:"mb-3"},n.a.createElement(H.a.Text,{id:"basic-addon1"},"@"),n.a.createElement(T.a,{ref:m,required:!0,type:"text",placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",isInvalid:E&&E.toLowerCase().includes("username")}),n.a.createElement(A.a.Control.Feedback,{type:"invalid"},E))),n.a.createElement(A.a.Group,{className:"mb-3",controlId:"password"},n.a.createElement(A.a.Label,null,"Password"),n.a.createElement(A.a.Control,{ref:d,required:!0,type:"password",placeholder:"Password",isInvalid:"Wrong password"===E}),n.a.createElement(A.a.Control.Feedback,{type:"invalid"},"Incorrect Password")),"network error"===E&&n.a.createElement("p",{className:"text-danger text-center"},"Could not connect to server"),n.a.createElement("div",{className:"text-center"},n.a.createElement(v.a,{variant:"danger",type:"submit",style:{paddingRight:50,paddingLeft:50,borderRadius:"1% 25% / 80% ",color:"ivory",fontWeight:"700"}},a?"Login":"Sign Up")),n.a.createElement("div",{className:"text-center mt-4"},a?n.a.createElement("p",null,"Don't have an account?"," ",n.a.createElement("button",{className:"text-danger",type:"button",onClick:function(){y(),c(!a)}},"Sign up here"),"."):n.a.createElement("p",null,"Already have an account?"," ",n.a.createElement("button",{className:"text-danger",type:"button",onClick:function(){y(),c(!a)}},"Login here"),"."))))}function B(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(h.f)(),o=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getLoggedInUser();case 2:if(!(t=e.sent).error){e.next=6;break}return l("/login"),e.abrupt("return");case 6:c(t.response.data);case 7:case"end":return e.stop()}},e)})),[l]);return Object(r.useEffect)(function(){o()},[o]),n.a.createElement(p.a,{className:"mt-5 mb-5",style:{color:"ivory"}},n.a.createElement("h1",{className:"mb-4 text-center",style:{color:"rgb(170,1,20)"}},"Profile"),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Name"),n.a.createElement(A.a.Control,{value:a.name,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Email"),n.a.createElement(A.a.Control,{value:a.email,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Username"),n.a.createElement(A.a.Control,{value:a.username,disabled:!0})),a.isAdmin&&n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Admin"),n.a.createElement(A.a.Control,{value:a.isAdmin,disabled:!0}))))}var K=a(140),W=a(150),J=a(141),Y=a(145),M=a(142),Z=a(144);function Q(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),s=Object(r.useState)(e.product.inStock),u=Object(i.a)(s,2),m=u[0],p=u[1];return Object(r.useEffect)(function(){t.current.value=e.product.img,a.current.value=e.product.title,c.current.value=e.product.desc,l.current.value=e.product.categories.join(","),o.current.value=e.product.price}),n.a.createElement(Z.a,{show:e.show,onHide:e.onHide,centered:!0,scrollable:!0},n.a.createElement(Z.a.Header,null,n.a.createElement(Z.a.Title,null,"Update Product")),n.a.createElement(Z.a.Body,null,n.a.createElement(A.a,null,n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Image"),n.a.createElement(A.a.Control,{ref:t})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Title"),n.a.createElement(A.a.Control,{ref:a})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Description"),n.a.createElement(A.a.Control,{ref:c})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Categories"),n.a.createElement(A.a.Control,{ref:l})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Price in cents"),n.a.createElement(A.a.Control,{ref:o})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Check,{type:"checkbox",label:"In Stock",checked:m,onChange:function(e){p(e.target.checked)}})))),n.a.createElement(Z.a.Footer,null,n.a.createElement(v.a,{variant:"secondary",onClick:e.onHide},"Close"),n.a.createElement(v.a,{variant:"primary",onClick:function(){e.onHide();var r={_id:e.product._id,categories:l.current.value,img:t.current.value,desc:c.current.value,title:a.current.value,inStock:m,price:o.current.value};e.onUpdatedProduct(r)}},"Save Changes")))}function V(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),s=Object(r.useState)(!0),u=Object(i.a)(s,2),m=u[0],p=u[1];return n.a.createElement(Z.a,{show:e.show,onHide:e.onHide,centered:!0,scrollable:!0},n.a.createElement(Z.a.Header,null,n.a.createElement(Z.a.Title,null,"Create New Product")),n.a.createElement(Z.a.Body,null,n.a.createElement(A.a,{onSubmit:function(r){r.preventDefault(),e.onHide();var n={categories:l.current.value,img:t.current.value,desc:c.current.value,title:a.current.value,inStock:m,price:o.current.value};e.onCreateProduct(n)}},n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Image"),n.a.createElement(A.a.Control,{ref:t,required:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Title"),n.a.createElement(A.a.Control,{ref:a,required:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Description"),n.a.createElement(A.a.Control,{ref:c,required:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Categories (Seperated by comma)"),n.a.createElement(A.a.Control,{ref:l,required:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Price in cents"),n.a.createElement(A.a.Control,{ref:o,required:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Check,{type:"checkbox",label:"In Stock",required:!0,checked:m,onChange:function(e){p(e.target.checked)}})),n.a.createElement(v.a,{type:"submit",variant:"primary",className:"m-2"},"Create"),n.a.createElement(v.a,{variant:"secondary",onClick:e.onHide},"Cancel"))),n.a.createElement(Z.a.Footer,null))}function X(e){var t=Object(r.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(r.useCallback)(Object(u.a)(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.getOrderDetails(e.orderID);case 2:if(!(a=t.sent).error){t.next=7;break}return console.log(a.error),e.onHide(),t.abrupt("return");case 7:l(a.response.data);case 8:case"end":return t.stop()}},t)})),[e]);Object(r.useEffect)(function(){o()},[o]);return n.a.createElement(Z.a,{show:e.show,onHide:e.onHide,centered:!0,scrollable:!0},n.a.createElement(Z.a.Header,{closeButton:!0},n.a.createElement(Z.a.Title,null,"Order Details")),n.a.createElement(Z.a.Body,null,!c&&n.a.createElement("div",{className:"text-center mx-auto w-100"},n.a.createElement(S.a,{animation:"border"})),c&&n.a.createElement("div",null,c.products.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(U.a,{className:"justify-content-between align-items-center"},n.a.createElement("div",{className:"col-auto"},n.a.createElement("p",null,e.product.title," ",e.quantity>1&&"\xd7 ".concat(e.quantity))),n.a.createElement("div",{className:"col-auto"},n.a.createElement("img",{alt:"".concat(e.product.title),src:e.product.img,style:{width:200},className:"mb-3 text-center mx-auto"}))),n.a.createElement("hr",{className:"solid"}))}),n.a.createElement("p",null,"Total Price: ",function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(c.amount)))),n.a.createElement(Z.a.Footer,null,n.a.createElement(v.a,{variant:"secondary",onClick:e.onHide},"Close")))}function $(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),o=Object(i.a)(l,2),m=o[0],f=o[1],b=Object(r.useState)([]),E=Object(i.a)(b,2),g=E[0],w=E[1],y=Object(r.useState)([]),x=Object(i.a)(y,2),j=x[0],O=x[1],C=Object(r.useState)(!1),N=Object(i.a)(C,2),S=N[0],L=N[1],P=Object(r.useState)(null),R=Object(i.a)(P,2),q=R[0],G=R[1],z=Object(r.useState)(!1),H=Object(i.a)(z,2),T=H[0],_=H[1],B=Object(r.useState)(null),$=Object(i.a)(B,2),ee=$[0],te=$[1],ae=Object(r.useState)(null),re=Object(i.a)(ae,2),ne=re[0],ce=re[1],le=function(){return L(!1)},oe=function(){return L(!0)},se=Object(h.f)(),ue=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAllUsers();case 2:(t=e.sent).error?f("Could not load users"):f(t.response.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAllProducts();case 2:(t=e.sent).error?w("Could not load products"):w(t.response.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAllOrders();case 2:(t=e.sent).error?O("Could not load products"):O(t.response.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),pe=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getLoggedInUser();case 2:if(!(t=e.sent).error){e.next=6;break}return se("/login"),e.abrupt("return");case 6:if(t.response.data.isAdmin){e.next=9;break}return se("/"),e.abrupt("return");case 9:ue(),ie(),me(),c(t.response.data);case 13:case"end":return e.stop()}},e)})),[se]);Object(r.useEffect)(function(){pe()},[pe]);var de=function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.makeUserAdmin(t);case 2:e.sent.error||ue();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.deleteUser(t);case 2:(a=e.sent).error?console.log(a.error):ue();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.createProduct(t.title,t.desc,t.img,t.categories,t.price,t.inStock);case 2:e.sent.error||ie();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.updateProduct(t._id,t.title,t.desc,t.img,t.categories,t.price,t.inStock);case 2:e.sent.error||ie();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.deleteProduct(t);case 2:(a=e.sent).error?console.log(a.error):ie();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.deleteOrder(t);case 2:(a=e.sent).error?console.log(a.error):me();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})};return n.a.createElement(p.a,{className:"mt-5 mb-5"},n.a.createElement("h1",{className:"mb-4",style:{color:"rgb(170,1,20)",textAlign:"center"}},"Admin Dashboard"),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(K.a,{defaultActiveKey:"users",id:"uncontrolled-tab-example",className:"mb-3 nav-pills nav-fill"},n.a.createElement(W.a,{eventKey:"users",title:"Users"},n.a.createElement(v.a,{className:"mt-1 mb-3",onClick:ue},n.a.createElement(k.f,null)),"Could not load users"===m?n.a.createElement("p",null,m):n.a.createElement("div",{className:"text-center",style:{color:"ivory"}},n.a.createElement("i",null,"Double click a user for actions"),n.a.createElement(J.a,{bordered:!0,hover:!0,responsive:!0,variant:"dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"UID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Username"),n.a.createElement("th",null,"Admin"))),n.a.createElement("tbody",null,m.map(function(e,t){return n.a.createElement("tr",{key:t,onDoubleClick:function(){ce(e),L(!0)}},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.email),n.a.createElement("td",null,e.username),n.a.createElement("td",null,e.isAdmin.toString()))}))))),n.a.createElement(W.a,{eventKey:"orders",title:"Orders"},n.a.createElement(v.a,{className:"mt-1 mb-3",onClick:me},n.a.createElement(k.f,null)),"Could not load orders"===j?n.a.createElement("p",null,j):j.map(function(e,t){return n.a.createElement("div",{key:t,className:"mb-2"},n.a.createElement(I.a,{style:{cursor:"pointer"},onClick:function(){te(e._id),oe()},className:"bg-dark text-white "},n.a.createElement("div",{className:"p-3"},n.a.createElement(U.a,{className:"justify-content-between"},n.a.createElement("div",{className:"col-auto"},n.a.createElement("p",null,function(e){return e.products.map(function(e){return e.quantity}).reduce(function(e,t){return e+t})}(e)," Product(s): ",e.status.toUpperCase()," ",n.a.createElement("br",null),e._id)),n.a.createElement("div",{className:"col-auto"},n.a.createElement(v.a,{variant:"danger",style:{float:"right"},onClick:function(){he(e._id)}},"Delete"))))))})),n.a.createElement(W.a,{eventKey:"products",title:"Products"},n.a.createElement("div",{className:"mb-3 row justify-content-between w-100",style:{marignRight:1,marginLeft:1}},n.a.createElement(v.a,{className:"col-auto",onClick:ie},n.a.createElement(k.f,null)),n.a.createElement(v.a,{className:"col-auto",variant:"success",onClick:function(){_(!0),oe()}},n.a.createElement(k.d,null))),"Could not load products"===g?n.a.createElement("p",null,g):n.a.createElement(Y.a,null,g.map(function(e,t){return n.a.createElement("div",{key:t,className:"mb-3"},n.a.createElement(Y.a.Item,{eventKey:t,className:"bg-dark text-white "},n.a.createElement(Y.a.Header,{className:"bg-dark text-white "},e.title),n.a.createElement(Y.a.Body,null,n.a.createElement("img",{src:e.img,alt:"".concat(e.title),style:{width:200},className:"mb-3 text-center mx-auto"}),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Image"),n.a.createElement(A.a.Control,{value:e.img,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Title"),n.a.createElement(A.a.Control,{value:e.title,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Description"),n.a.createElement(A.a.Control,{value:e.desc,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-1"},n.a.createElement(A.a.Label,null,"Categories:"),n.a.createElement(U.a,{className:"justify-content-start",style:{marginLeft:1,marginRight:1}},e.categories&&e.categories.map(function(e,t){return n.a.createElement(d.a,{key:t,className:"col-auto m-1",bg:"primary"},e)}))),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"Price"),n.a.createElement(A.a.Control,{value:ge(e.price),disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"In Stock"),n.a.createElement(A.a.Control,{value:e.inStock,disabled:!0})),n.a.createElement(A.a.Group,{className:"mb-3"},n.a.createElement(A.a.Label,null,"ID"),n.a.createElement(A.a.Control,{value:e._id,disabled:!0})),n.a.createElement(M.a,{"aria-label":"Admin Actions"},n.a.createElement(v.a,{variant:"primary",onClick:function(){G(e),oe()}},"Update"),n.a.createElement(v.a,{variant:"danger",onClick:function(){ve(e._id)}},"Delete")))))}))))),T&&n.a.createElement(V,{show:S,onHide:function(){le(),_(!1)},onCreateProduct:function(e){console.log("New prod: ",e),be(e)}}),q&&n.a.createElement(Q,{show:S,product:q,onHide:function(){le(),G(null)},onUpdatedProduct:function(e){console.log("Updated prod: ",e),Ee(e)}}),ee&&n.a.createElement(X,{orderID:ee,show:S,onHide:function(){le(),te(null)}}),ne&&n.a.createElement(Z.a,{show:S,onHide:function(){le(),ce(null)},centered:!0,scrollable:!0},n.a.createElement(Z.a.Header,{closeButton:!0},n.a.createElement(Z.a.Title,null,"Edit User")),n.a.createElement(Z.a.Body,null,n.a.createElement(M.a,null,n.a.createElement(v.a,{variant:"danger",onClick:function(){fe(ne._id),le(),ce(null)}},"Delete"),!ne.isAdmin&&n.a.createElement(v.a,{variant:"primary",onClick:function(){de(ne._id),le(),ce(null)}},"Make Admin")))))}function ee(){var e=Object(h.e)().state,t=Object(h.f)(),a=Object(r.useContext)(y),c=Object(r.useState)(1),l=Object(i.a)(c,2),o=l[0],m=l[1];return n.a.createElement(p.a,{className:"mt-3"},n.a.createElement("div",{className:"mb-5 text-white"},n.a.createElement(k.a,{size:25,onClick:function(){t("/")}})),n.a.createElement("div",null,n.a.createElement(U.a,{className:"justify-content-center "},n.a.createElement("div",{className:"col-md-4 col-lg-6 mb-3",style:{color:"ivory"}},n.a.createElement("h3",null,e.product.title),n.a.createElement("hr",null),n.a.createElement("p",null,e.product.desc),n.a.createElement("hr",null),n.a.createElement("div",null,n.a.createElement("strong",null,"Price:")," ",function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(e.product.price)),n.a.createElement("hr",null),e.product.categories&&e.product.categories.map(function(e,t){return n.a.createElement(d.a,{key:t,className:"col-auto m-1",bg:"danger"},e)}),n.a.createElement("hr",null),n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"quanity-group mb-3"},n.a.createElement(v.a,{variant:"secondary",className:"quan-buttons m-2",disabled:o<=1||null===a.profile,onClick:function(){return m(function(e){return e-1})}},n.a.createElement(k.c,null)),o,n.a.createElement(v.a,{disabled:null===a.profile,className:"quan-buttons m-2",onClick:function(){return m(function(e){return e+1})}},n.a.createElement(k.d,null))),n.a.createElement(v.a,{variant:"danger",style:{paddingRight:50,paddingLeft:50,borderRadius:"1% 25% / 80% ",color:"ivory",fontWeight:"700"},disabled:null===a.profile,onClick:Object(u.a)(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.addToCart(e.product._id,o);case 2:return t.next=4,O.getCart();case 4:r=t.sent,a.setCart(r.response.data),m(1);case 7:case"end":return t.stop()}},t)}))},"Add To Cart"))),n.a.createElement("div",{className:"col-md-8 col-lg-6 text-center"},n.a.createElement("img",{src:e.product.img,alt:"".concat(e.product.title),className:"mb-3 text-center mx-auto w-100"})))))}function te(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),a=Object(r.useRef)(null),c=Object(r.useRef)(null),l=Object(h.f)(),o=Object(r.useContext)(y),i=function(){var r=Object(u.a)(s.a.mark(function r(n){var u;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),u={street:e.current.value,city:t.current.value,state:a.current.value,zipcode:c.current.value},console.log(u),r.next=5,O.createOrder(u);case 5:r.sent,o.setCart({}),o.fetchOrders(),l("/orders");case 9:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}();return n.a.createElement(y.Consumer,null,function(r){r.profile;var l=r.cart;return n.a.createElement(p.a,{className:"mt-3 text-white"},n.a.createElement("h1",{className:"text-center text-white"},"Checkout"),n.a.createElement(U.a,null,n.a.createElement("div",{className:"col"},n.a.createElement("h3",null,"Enter your address"),n.a.createElement(A.a,{className:"col-md-8 mb-5 mt-3",onSubmit:function(e){i(e)}},n.a.createElement(A.a.Group,{className:"mb-3",controlId:"street"},n.a.createElement(A.a.Control,{ref:e,type:"text",placeholder:"Street",required:!0})),n.a.createElement(A.a.Group,{className:"mb-3",controlId:"city"},n.a.createElement(A.a.Control,{ref:t,type:"text",placeholder:"City",required:!0})),n.a.createElement(A.a.Group,{className:"mb-3",controlId:"state"},n.a.createElement(A.a.Control,{ref:a,type:"text",placeholder:"State",required:!0})),n.a.createElement(A.a.Group,{className:"mb-3",controlId:"zipcode"},n.a.createElement(A.a.Control,{ref:c,type:"number",placeholder:"Zipcode",required:!0})),l.totalPrice&&n.a.createElement("div",{className:"text-center"},n.a.createElement("p",null,"Total: ",function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(l.totalPrice)),n.a.createElement(v.a,{variant:"danger",type:"submit",style:{paddingRight:50,paddingLeft:50,borderRadius:"1% 25% / 80% ",color:"ivory",fontWeight:"700"},disabled:0===l.products},"Checkout")))),n.a.createElement("div",{className:"col"},l.products&&l.products.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(C,{p:e,editable:!1}))}))))})}function ae(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(h.f)();return n.a.createElement(y.Consumer,null,function(e){var t=e.orders;return n.a.createElement(p.a,{className:"mt-3 text-white"},n.a.createElement("div",{className:"mb-2 text-white"},n.a.createElement(k.a,{size:25,onClick:function(){m("/")}})),n.a.createElement("h1",{className:"text-center"},"Orders"),n.a.createElement("hr",{className:"solid text-white"}),void 0!==t&&0===t.length&&n.a.createElement("div",null,n.a.createElement("h3",null,"You have no orders")),void 0!==t&&t.map(function(e,t){return n.a.createElement("div",{key:t,onClick:function(){c(e._id),u(!0)}},n.a.createElement("h5",null,new Date(e.createdAt).toDateString()),n.a.createElement("p",{className:"text-warning"},"Total: ",function(e){var t=e/100;return t=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}(e.amount)),n.a.createElement("p",{className:"text-info"},e.status.toUpperCase()),n.a.createElement("hr",{className:"solid text-white"}))}),a&&n.a.createElement(X,{orderID:a,show:s,onHide:function(){u(!1),c(null)}}))})}var re=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)({}),o=Object(i.a)(l,2),m=o[0],p=o[1],d=Object(r.useState)([]),f=Object(i.a)(d,2),b=f[0],E=f[1],v=function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.logout();case 2:p({}),k();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getCart();case 2:(t=e.sent).response?p(t.response.data):t.error&&p({});case 4:case"end":return e.stop()}},e)})),[]),w=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getOrders();case 2:(t=e.sent).response?E(t.response.data):t.error&&E({});case 4:case"end":return e.stop()}},e)})),[]),k=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getLoggedInUser();case 2:(t=e.sent).response?(c(t.response.data),g(),w()):t.error&&c(null);case 4:case"end":return e.stop()}},e)})),[g,w]);Object(r.useEffect)(function(){k()},[k]);var x={profile:a,cart:m,orders:b,setCart:p,setOrders:E,logOut:v,fetchProfile:k,fetchCart:g,fetchOrders:w};return n.a.createElement("div",{className:"App"},n.a.createElement(y.Provider,{value:x},n.a.createElement(N,null),n.a.createElement(h.c,null,n.a.createElement(h.a,{path:"/",exact:!0,element:n.a.createElement(z,null)}),n.a.createElement(h.a,{path:"/login",exact:!0,element:n.a.createElement(_,null)}),n.a.createElement(h.a,{path:"/profile",exact:!0,element:n.a.createElement(B,null)}),n.a.createElement(h.a,{path:"/admindashboard",exact:!0,element:n.a.createElement($,null)}),n.a.createElement(h.a,{path:"/product",exact:!0,element:n.a.createElement(ee,null)}),n.a.createElement(h.a,{path:"/checkout",exact:!0,element:n.a.createElement(te,null)}),n.a.createElement(h.a,{path:"/orders",exact:!0,element:n.a.createElement(ae,null)}))))},ne=a(29);l.a.render(n.a.createElement(ne.a,{basename:"/dragazon"},n.a.createElement(re,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a.p+"static/media/textheaderligred.4084d4d0.png"},79:function(e,t,a){e.exports=a.p+"static/media/dragazonlogoLight.bccddc37.png"},92:function(e,t,a){e.exports=a.p+"static/media/newitem.4581bced.png"},97:function(e,t,a){e.exports=a(132)}},[[97,1,2]]]);
//# sourceMappingURL=main.f13f4080.chunk.js.map